!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("firebase",[],e):"object"==typeof exports?exports.firebase=e():t.firebase=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r,i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.SDK_VERSION="FFM-0.0.4",t.apps=[];var e=v(),n="[DEFAULT]";function r(t){return e[t||n]}function o(e){return(e instanceof t.app.App?e:t.app(e)).firestore()}t.initializeApp=function(r,i){var o=i||n;if(o in e)return e[o];var s=new t.app.App(r,o);return e[o]=s,t.apps.push(s),s},t.app=r,function(e){var n=function(){function e(e,n){this.options=e,this.name=n,this.firebase_=t}return e.prototype.auth=function(){throw"firebase.app.App.auth is not supported"},e.prototype.database=function(){},e.prototype.firestore=function(){return this.firestore_||(this.firestore_=new t.firestore.Firestore(this)),this.firestore_},e.prototype.delete=function(){throw"firebase.app.App.delete is not supported"},e.prototype.messaging=function(){throw"firebase.app.App.messaging is not supported"},e.prototype.storage=function(){throw"firebase.app.App.storage is not supported"},e}();e.App=n}(r=t.app||(t.app={})),t.firestore=o,function(e){var n=function(){function t(t){this.app=t,this._docs=v(),this._collections=v(),this._listeners=v()}return t.prototype.batch=function(){throw"firebase.firestore.Firestore.batch is not supported"},t.prototype.collection=function(t){return new c(this,t)},t.prototype.doc=function(t){return new h(this,t)},t.prototype.disableNetwork=function(){throw"firebase.firestore.Firestore.disableNetwork is not supported"},t.prototype.enableNetwork=function(){throw"firebase.firestore.Firestore.enableNetwork is not supported"},t.prototype.enablePersistence=function(){throw"firebase.firestore.Firestore.enablePersistence is not supported"},t.prototype.setLogLevel=function(t){throw"firebase.firestore.Firestore.setLogLevel is not supported"},t.prototype.runTransaction=function(t){return t(new P)},t.prototype.settings=function(t){this._settings=t},t.prototype.dataAt=function(t,e){if(void 0===e&&(e=!1),!(t in this._docs)&&e){this._docs[t]=v();var n=b(t),r=n.id,i=n.parentPath,o=this._collections[i];o||(o=this._collections[i]=[]),-1===o.indexOf(r)&&o.push(r)}return this._docs[t]},t.prototype.dataAtRemove=function(t){var e=b(t),n=e.id,r=e.parentPath,i=this._collections[r];if(delete this._docs[t],i){var o=i.indexOf(n);-1!==o&&(i.splice(o,1),0===i.length&&delete this._collections[r])}},t.prototype.documentsAt=function(t,e){return void 0===e&&(e=!1),t in this._collections||!e||(this._collections[t]=[]),this._collections[t]},t.prototype.documentsAtRemove=function(t){delete this._collections[t]},t.prototype.listenersAt=function(t){return t in this._listeners||(this._listeners[t]=[]),this._listeners[t]},t.prototype.listenersAtAdd=function(t,e){this.listenersAt(t).push(e)},t.prototype.listenersAtRemove=function(t,e){var n=this.listenersAt(t),r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&delete this._listeners[t]},t.prototype.notifyAt=function(t){this.listenersAt(t).forEach(function(t){return t()})},t}();e.Firestore=n;var r=function(){function e(t,e){this._orderBy=[],this._startAfter=[],this._startAt=[],this._endAt=[],this._endBefore=[],this._where=[],this._limit=Number.MAX_VALUE,this.firestore=t,this._path=e}return e.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extend(function(e){return e._endAt=e._endAt.concat(t)})},e.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extend(function(e){return e._endBefore=e._endBefore.concat(t)})},e.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extend(function(e){return e._startAfter=e._startAfter.concat(t)})},e.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.extend(function(e){return e._startAt=e._startAt.concat(t)})},e.prototype.limit=function(t){return this.extend(function(e){return e._limit=t})},e.prototype.orderBy=function(t,e){return void 0===e&&(e="asc"),this.extend(function(n){return n._orderBy.push(new M(t,e))})},e.prototype.where=function(t,e,n){return this.extend(function(r){return r._where.push(new O(t,e,n))})},e.prototype.get=function(e){return t.Promise.resolve(new u(this,[],this.getResults()))},e.prototype.onSnapshot=function(t,e,n){var r=this,i=(l(t),l(t)?t:e),o=(l(t),this.getResults()),s=new u(this,[],o);i(s);var f=function(){var t=r.getResults(),e=new u(r,o,t);e.isEqual(s)||(o=t,i(s=e))};this.firestore.listenersAtAdd(this._path,f);return function(){r.firestore.listenersAtRemove(r._path,f)}},e.prototype.extend=function(t){var n=new e(this.firestore,this._path);return n._where=this._where.slice(),n._orderBy=this._orderBy.slice(),n._startAfter=this._startAfter.slice(),n._startAt=this._startAt.slice(),n._endBefore=this._endBefore.slice(),n._endAt=this._endAt.slice(),n._limit=this._limit,t&&t(n),n},e.prototype.getResults=function(){var t=this._path+f,e=[],n=this.firestore.documentsAt(this._path);if(!n)return e;for(var r=0,i=n;r<i.length;r++){var o=i[r],s=this.firestore.doc(t+o).snapshot(),u=this._where;if(0===u.length)e.push(s);else{for(var a=!0,c=0;a&&c<u.length;c++)u[c].matches(s)||(a=!1);a&&e.push(s)}}var h=0,p=Math.min(this._limit,e.length),l=this._orderBy;if(l.length){e.sort(function(t,e){for(var n=0,r=0;r<l.length&&0===(n=l[r].compare(t,e));r++);return n});for(var d=this._startAt,_=this._startAfter,v=this._endAt,y=this._endBefore,g=0;g<l.length;g++){var m=l[g]._fieldPath;if(g<d.length&&(h=Math.max(h,S(e,m,d[g]))),g<_.length&&(h=Math.max(h,S(e,m,_[g],x)+1)),g<v.length){var A=S(e,m,v[g]);A>=0&&(p=Math.min(p,A))}if(g<y.length){var b=S(e,m,y[g])-1;b>=0&&(p=Math.min(p,b))}}}if(h>=p)return[];h>0&&e.splice(0,h);var w=p-h;return w!==e.length&&e.splice(w,e.length-w),e},e}();e.Query=r;var o=function(){function t(t){this.compute=t}return t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(function(t){if(!d(t))return t;for(var n=t.slice(),r=0;r<e.length;r++){var i=n.indexOf(e[r]);-1!==i&&n.splice(i,1)}return n})},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(function(t){if(!d(t))return t;for(var n=t.slice(),r=0;r<e.length;r++){-1===n.indexOf(e[r])&&n.push(e[r])}return n})},t.delete=function(){return new t(function(t){})},t.serverTimestamp=function(){return new t(function(t){return new Date})},t}();e.FieldValue=o;var s=function(){function t(t,e,n){this.metadata={fromCache:!0,hasPendingWrites:!1},this.id=t,this.exists=!!e,this.ref=n,this._data=e}return t.prototype.data=function(){return this._data},t.prototype.get=function(t){return A(this._data,t,a).get()},t.prototype.isEqual=function(t){return this.ref.path===t.ref.path&&m(this._data,t._data)},t}();e.DocumentSnapshot=s;var u=function(){function t(t,e,n){this.metadata={fromCache:!0,hasPendingWrites:!1},this.query=t,this.docs=n,this.empty=n.length>0,this.size=n.length,this._prev=e,this._next=n}return t.prototype.docChanges=function(){for(var t=[],e=function(e){var r=n._next[e],i=e,o=n._prev.findIndex(function(t){return t.id===r.id});-1===o?t.push({doc:r,newIndex:i,oldIndex:o,type:"added"}):o===i&&r.isEqual(n._prev[o])||t.push({doc:r,newIndex:i,oldIndex:o,type:"modified"})},n=this,r=0;r<this._next.length;r++)e(r);var i=function(e){var n=o._prev[e],r=o._next.findIndex(function(t){return t.id===n.id}),i=e;-1===r&&t.push({doc:n,newIndex:r,oldIndex:i,type:"removed"})},o=this;for(r=0;r<this._prev.length;r++)i(r);return t},t.prototype.forEach=function(t,e){this._next.forEach(t.bind(e))},t.prototype.isEqual=function(t){var e=this.docs,n=t.docs;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!e[r].isEqual(n[r]))return!1;return!0},t}();e.QuerySnapshot=u;var c=function(t){function e(e,n){var r=this,i=b(n),o=i.id,s=i.parentPath;return(r=t.call(this,e,n)||this).id=o,r._documentPath=s,r}return i(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){return this.firestore.doc(this._documentPath)},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){return this.firestore.doc(this._path+f+(t||function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}()))},e.prototype.add=function(t){return this.doc().set(t)},e.prototype.isEqual=function(t){return t._path===this._path},e}(r);e.CollectionReference=c;var h=function(){function e(t,e){var n=b(e),r=n.id,i=n.parentPath;this.firestore=t,this.path=e,this.id=r,this._collectionPath=i}return Object.defineProperty(e.prototype,"parent",{get:function(){return this.firestore.collection(this._collectionPath)},enumerable:!0,configurable:!0}),e.prototype.collection=function(t){return this.firestore.collection(this.path+f+t)},e.prototype.set=function(e,n){return n&&n.merge||this.clearValues(),this.applyValues(e),this.notify(),t.Promise.resolve(this)},e.prototype.delete=function(){return this.firestore.dataAt(this.path)&&(this.clearValues(),this.notify()),t.Promise.resolve()},e.prototype.update=function(e){return this.applyValues(e),this.notify(),t.Promise.resolve()},e.prototype.get=function(e){return t.Promise.resolve(this.snapshot())},e.prototype.onSnapshot=function(t,e,n){var r=this,i=(l(t),l(t)?t:e),o=(l(t),function(){i(r.snapshot())});o(),this.firestore.listenersAtAdd(this.path,o);return function(){r.firestore.listenersAtRemove(r.path,o)}},e.prototype.clearValues=function(){this.firestore.dataAtRemove(this.path)},e.prototype.applyValues=function(t){var e=this.firestore.dataAt(this.path,!0);for(var n in t){var r=A(e,n,a),i=E(r.get(),t[n]);void 0===i?r.delete():r.set(i)}},e.prototype.notify=function(){this.firestore.notifyAt(this._collectionPath),this.firestore.notifyAt(this.path)},e.prototype.snapshot=function(){return new s(this.id,w(this.firestore.dataAt(this.path)),this)},e}();e.DocumentReference=h;var p=function(){return function(){}}();e.FieldPath=p;var _=function(){function t(t,e){this.latitude=t,this.longitude=e}return t.prototype.isEqual=function(t){return this.latitude===t.latitude&&this.longitude===t.longitude},t}();e.GeoPoint=_;var y=function(){function t(t,e){void 0===e&&(e=0),this._seconds=t,this._nanoseconds=e}return t.prototype.toMillis=function(){return 1e3*this._seconds+Math.floor(1e-6*this._nanoseconds)},t.prototype.toDate=function(){return new Date(this.toMillis())},t.fromMillis=function(e){return new t(Math.floor(e/1e3),1e6*e)},t.fromDate=function(t){return this.fromMillis(t.getTime())},t.now=function(){return this.fromMillis(Date.now())},t}();e.Timestamp=y;var P=function(){return function(){}}();e.Transaction=P;var j=function(){return function(){}}();e.WriteBatch=j;var O=function(){function t(t,e,n){this._fieldPath=t,this._opStr=e,this._value=n}return t.prototype.matches=function(t){var e=t.get(this._fieldPath);if(void 0===e)return!1;switch(this._opStr){case"==":return 0===g(this._value,e);case">=":return g(this._value,e)>=0;case">":return g(this._value,e)>0;case"<=":return g(this._value,e)<=0;case"<":return g(this._value,e)<0;case"array-contains":case"array_contains":return d(e)&&-1!==e.indexOf(this._value)}return!1},t}(),M=function(){function t(t,e){this._fieldPath=t,this._directionStr=e}return t.prototype.compare=function(t,e){var n=g(t.get(this._fieldPath),e.get(this._fieldPath));return"asc"===this._directionStr?n:-n},t}();function E(e,n){return n instanceof t.firestore.FieldValue?n.compute(e):n}function S(e,n,r,i){if(r instanceof t.firestore.DocumentSnapshot)return e.findIndex(function(t){return t.ref.path===r.ref.path});var o=function(t){return m(t.get(n),r)};return i?i(e,o):e.findIndex(o)}}(o=t.firestore||(t.firestore={}));var s=function(){function t(t){var e=this;this.callback=t,this.resolve=function(){},this.reject=function(){},this.next=new u(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.resolved=function(t){var e=this,n=this.callback(t);n instanceof u&&(n.then(function(t){e.resolve(t)}),n.catch(function(t){e.reject(t)}))},t.prototype.rejected=function(t){this.reject(t)},t}(),u=function(){function t(t){var e=this;this._done=!1,this._resolved=!1,this._rejecters=[],this._nexts=[],t(function(t){e._done||(e._done=!0,e._resolved=!0,e._value=t,e._nexts.forEach(function(e){return e.resolved(t)}))},function(t){e._done||(e._done=!0,e._error=t,e._nexts.forEach(function(e){return e.rejected(t)}),e._rejecters.forEach(function(e){return e(t)}))})}return t.prototype.then=function(t){var e=new s(t);return this._done?this._resolved&&e.resolved(this._value):this._nexts.push(e),e.next},t.prototype.catch=function(t){return this._done?this._resolved||t(this._error):this._rejecters.push(t),this},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.all=function(e){return new t(function(t,n){var r=0;e.forEach(function(i){i.then(function(n){++r===e.length&&t(n)}),i.catch(n)})})},t}();t.Promise=u;var f="/",a=".";function c(t){return"number"==typeof t}function h(t){return"string"==typeof t}function p(t){return"boolean"==typeof t}function l(t){return"function"==typeof t}function d(t){return t instanceof Array}function _(t){return t instanceof Date}function v(){return Object.create(null)}function y(t){return t<0?-1:t>0?1:0}function g(t,e){return t===e?0:void 0===t?1:void 0===e?-1:c(t)&&c(e)?y(t-e):_(t)&&_(e)?y(t.getTime()-e.getTime()):h(t)&&h(e)?t.localeCompare(e):p(t)&&p(e)?(t?1:0)-(e?1:0):0}function m(t,e){if(0!==g(t,e))return!1;if(t===e)return!0;var n=typeof t;if(n!==typeof e)return!1;if(_(t)&&_(e))return t.getTime()===e.getTime();if(d(t)&&d(e)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!m(t[r],e[r]))return!1;return!0}if("object"===n){for(var i in t)if(!(i in e&&m(t[i],e[i])))return!1;for(var i in e)if(!(i in t))return!1;return!0}return!1}function A(t,e,n){var r=e.split(n),i=r[r.length-1];return{get:function(){for(var e=t,n=0;n<r.length;n++){var i=r[n];if(i){if(!(e&&i in e))return;e=e[i]}}return e},set:function(e){for(var n=t,o=0;o<r.length-1;o++){var s=r[o];s&&(s in n||(n[s]={}),n=n[s])}n[i]=e},delete:function(){for(var e=t,n=0;n<r.length-1;n++){var o=r[n];if(o){if(!(e&&o in e))return;e=e[o]}}if(e){var s=e[i];return delete e[i],s}}}}function b(t){var e=t.split(f);return{id:e.pop(),parentPath:e.join(f)}}function w(t){var e=t;if(_(t))e=new Date(t.getTime());else if(d(t))e=t.map(w);else if(function(t){return"object"==typeof t}(t))for(var n in e=v(),t)e[n]=w(t[n]);return e}function x(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n],n))return n;return-1}}(r=e.firebase||(e.firebase={})),e.default=r}]).default});